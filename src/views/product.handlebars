<section class="mx-auto p-4">
  {{! principal }}
  <div class="mt-5 sm:flex mx-auto sm:justify-center h-max">
    {{! imagenes }}
    <div class="grid-cols-1 sm:grid sm:grid-cols-2 max-w-2xl p-4">
      <div class="flex-col gap-2 items-center hidden sm:flex">
        <img
          src={{thumbnail}}
          alt="Happy Hour Candle"
          class="rounded-lg shadow-md w-1/3 object-fit h-32"
        />
        <img
          src={{thumbnail}}
          alt="Happy Hour Candle"
          class="rounded-lg shadow-md w-1/3 object-fit h-32"
        />
        <img
          src={{thumbnail}}
          alt="Happy Hour Candle"
          class="rounded-lg shadow-md w-1/3 object-fit h-32"
        />
      </div>
      <div class="rounded-sm">
        <img
          src={{thumbnail}}
          alt="Happy Hour Candle"
          class="product-thumb sm:w-full sm:h-full object-fill rounded-lg shadow-md hover:shadow-2xl transition duration-200 max-h-80 sm:max-h-full"
        />
      </div>
    </div>
    {{! detalles }}
    <div class="grid max-w-2xl p-4">
      <div class="flex flex-col gap-2 relative">
        <h1 class="text-3xl font-bold mb-4">{{title}}</h1>
        <div class="flex items-center mb-2">
          <div class="flex items-center">
            <div class="bg-yellow-400 rounded-full w-4 h-4 mr-1"></div>
            <div class="bg-yellow-400 rounded-full w-4 h-4 mr-1"></div>
            <div class="bg-yellow-400 rounded-full w-4 h-4 mr-1"></div>
            <div class="bg-yellow-400 rounded-full w-4 h-4 mr-1"></div>
            <div class="bg-gray-300 rounded-full w-4 h-4 mr-2"></div>
            <span class="text-gray-900 font-sans font-bold">(42)Reviews</span>
          </div>
        </div>
        <p
          class="text-gray-900 mt-10 capitalize font-sans font-bold"
        >{{description}}</p>
        <div class="flex flex-row items-center justify-between mt-10">
          <p class="text-gray-900 capitalize font-sans font-bold">Stock:
            {{stock}}</p>
          {{! precio }}
          <p class="text-green-950 capitalize font-bold text-2xl">${{price}}</p>
        </div>
        <div>
          <button
            onclick="openModal(this)"
            data-id="{{id}}"
            class="sm:bottom-0 sm:absolute transform p-2 rounded capitalize hover:bg-gray-900 hover:text-white transition duration-200 cursor-pointer bg-white text-gray-800 font-semibold w-full"
          >add to cart</button>
        </div>
      </div>
    </div>
  </div>
</section>

<div
  style="z-index: 9999; display: none;"
  id="spinner"
  class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center"
>
  <div
    class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center"
  >
    <div
      class="w-16 h-16 border-4 border-dashed rounded-full animate-spin border-violet-400"
    ></div>
  </div>
</div>

{{! Modal }}
<div id="product-modal" class="fixed z-10 inset-0 overflow-y-auto hidden">
  <div
    class="flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"
  >
    <div class="fixed inset-0 transition-opacity">
      <div class="absolute inset-0 bg-gray-500 opacity-75"></div>
    </div>

    <div
      class="inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6"
    >
      {{! modal }}
      <div class="modal-content">
        <h2 class="text-lg font-bold mb-2">{{title}}</h2>
        <p class="text-gray-700 mb-2">{{description}}</p>
        <p class="text-gray-700 mb-2">${{price}}</p>
        <p class="text-gray-700 mb-2">Stock: {{stock}}</p>
        <button
          class="bg-gray-200 hover:bg-gray-300 focus:ring-4 focus:outline-none focus:ring-gray-400 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2"
          onclick="addToCart('{{id}}')"
        >Agregar al carrito</button>
        <button
          class="bg-gray-200 hover:bg-gray-300 focus:ring-4 focus:outline-none focus:ring-gray-400 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2"
          onclick="closeModal()"
        >Cerrar</button>
      </div>
    </div>
  </div>
</div>
<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="/js/modal.js"></script>